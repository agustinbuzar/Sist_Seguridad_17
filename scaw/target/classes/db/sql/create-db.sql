DROP TABLE users IF EXISTS;
DROP TABLE task_mode IF EXISTS;
DROP TABLE task_state IF EXISTS;
DROP TABLE task IF EXISTS;
DROP TABLE task_user IF EXISTS;

CREATE TABLE users (
  id			INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
  name 			VARCHAR(30),
  surname 		VARCHAR(30),
  email  		VARCHAR(50),
  password 		VARCHAR(30),
  is_admin		INTEGER(1) DEFAULT 0,
  status		INTEGER(1) DEFAULT 1 COMMENT '1 CREADO 2 APROBADO 0 ELIMINADO'
);

CREATE TABLE task_mode(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	mode_name VARCHAR(30)
);

CREATE TABLE task_state(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	state_name VARCHAR(30)
);

CREATE TABLE task(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	is_public INTEGER (1),
	task_title VARCHAR (50),
	task_description VARCHAR(300),
	id_task_mode INTEGER (11) COMMENT 'task_mode.id',
	id_task_state INTEGER (11) COMMENT 'task_state.id'
);

CREATE TABLE task_user(
	id INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) PRIMARY KEY,
	id_user INTEGER (11),
	id_task INTEGER (11),
	mode INTEGER (1) COMMENT '1 EDICION 2 LECTURA'
	status INTEGER (1) DEFAULT 1
);
